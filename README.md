# CurlAda

Ada 2012 bindings for the [curl library](https://curl.se/).

## Status

At the moment this is just a proof of concept, and only the simplest usage of the [easy interface](https://curl.se/libcurl/c/libcurl-easy.html) works, as demonstrated in `tests/simple_test.adb`.

I simply [dumped an Ada spec of curl.h with GCC](https://learn.adacore.com/courses/intro-to-ada/chapters/interfacing_with_c.html#generating-bindings) and started tweaking and commenting out code until it compiled.

## Acknowledgements

[Andreas Almroth](https://web.archive.org/web/20070403105909/www.almroth.com/adacurl/index.html) started a similar effort some 15 years ago.
His binding [is listed](https://curl.se/libcurl/bindings.html) on the bindings page of curl, but seems largely abandoned.
Some of the tweaks I had to do to the autogenerated spec to solve a handful of errors were guided by his implementation.


## Try out the PoC

You'll need a GNAT toolchain, gprbuild and curl's development files so that gcc can link the final executable with `-lcurl`.
On Ubuntu these are the `gnat gprbuild libcurl4-openssl-dev` packages.

```bash
$ git clone https://github.com/1ma/CurlAda
$ cd CurlAda
$ gprbuild tests/tests.gpr
$ ./bin/simple_test
```
